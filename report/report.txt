MGRA server предоставляет интерфейс для работы с mgra tool (ссылка на статью).

Входные данные. 
Так же как mgra tool, server поддерживает два входных формата infercars и grimm (Опять же ссылки). 
Требования: 
Имя генома должно быть уникальным и односимвольным, иначе об этой ошибке будет сообщено пользователю на этапе работе алгоритма. 
Псевдонимы генома записываются в поле AliasName через пробел. 
Геном можно загрузить файлом или ввести вручную. Причем для grimm формата, если данные вводятся не через файл, каждый геном должен быть введен в своем текстовом поле.
Остально понятно по примерам предоставленным на сайте. 

Алгоритм: 
1) Происходит запись входных данных
	1.1) На основе входных данных создается cfg файл для mgra tool.
	1.2) Создается файл с геномом. Причем если этот геном в grimm формате, введеный через текстовые поля, то оно склеивается в один файл. Если геном в infercars формате, то происходит запоминание длин блоков. 
2) На записаных входных данных запускается mgra tool.
3) Начинается обработка получившихся данных. 
	3.1) Для каждого файла содержащего информацию о геноме (*.gen).
		3.1.1) Происходит считывание генома (Если это infercars то к данным о блоке добавляется его длина).
		3.1.2) Происходит генерация картинки. (См. далее)
		3.1.3) Если картинку не удалось сгенерировать по каким-либо причинам, генерируется записи в xml файл. 
	3.2) Для каждого файла содержащего информацию о трансформации (*.trs)
		3.2.1) Происходит считывание трансформации. (См. далее)
		3.2.2) Происходит генерация картинки. Хромосомы генерируются аналогично, как и на шаге 3.1.2  
		3.2.3) Если картинку не удалось сгенерировать по каким-либо причинам, генерируется записи в xml файл. 
	3.3) Если это возможно, происходит слияние поддеревьев в дерево. 
	3.4) Проверяется содержат ли входные деревья, полное дерево. 
	3.5) Проверяется все ли трансформации были завершены. (Для каждого (под)дерева проверяется, что у каждого узла из этого (под)деерва есть сгенерированный геном) 
	3.6) Если оба условия выполняются, то реконструкция не требуется и происходит генерация данных о деревьев в xmlе 
	3.7) Если хотя бы одно из условий не выполняется происходит попытка реконстукции деревьев.
		3.7.1) Генерируются ветви из входных деревьев. 
		3.7.2) Считываются возможные ветви из файла stats.txt. 
		3.7.3) Происходит отбор из возможных ветвей совместных и наиболее лучших. (См. далее)
		3.7.4) Если получившиеся множество не пусто, то происходит создание из этих ветвей новых (под/над/ )деревьев. 
		3.7.5) Если получившиеся множество пусто, то 
			3.7.5.1) Удаляются ветви сгенерированные из входных деревьев. 
			3.7.5.2) Запускается mgra tool без данных о входных деревьях. 
			3.7.5.3) Происходит считывание возможных ветвей из файла stats.txt
			3.7.5.4) Просиходит отбор из возможных ветвей совместных и наиболее лучших. (Такой же шаг, как и в 3.7.3)
			3.7.5.5) На основе множества происходит создание новых (под/над/ )деревьев. 
		3.7.6) Происходит запись данных в xml о входных деревьях. 
		3.7.7) Происходит запись данных в xml о трех лучших реконструированных деревьев.  
4) Применяется XSLT преобразование и генерируется из xml - html документ. 

Выходные данные. 
Деревья представляются с помощью html5 canvas с использованием библиотеки kineticjs (ссылка). Их можно загрузить на компьютере ввиде картинки(нажать на кнопку).
	При двойном клике на стрелочке, будет показана соответствующая трансформация.
	При двойном клике на вершину, будет показана соответствующий геном. 
	Так же узлы можно перемещать в любое место, для удобного расположения. 
Если сгенерировались изображения, то они имеют формат png и сгенерированны с помощью стандратного api java. Их так же можно загрузить. Если изображения большие, то они скалируются браузером под ширину экрана, но при загрузке они доступны в нормльном разрешение. 
Если сгенерировался текст html, то блоки обозначаются < и >. И при удержание на таком значке курсора мыши, всплывает номер блока, который ему соответсвует.

Отчет о том что я сделал. 
1) Сделал изображение филогенетических деревьев в новом виде.
2) Сделал что бы деревья были без выделенного корня. 
3) Сделал что бы геномы отображались ввиде изображений. 
4) Сделал что бы трансформации отображались ввиде изображений. 
5) Пофиксил багу с тем, что бы информация о геноме выводилась на вершине дерева независимо от названий. 
6) Добавил вывод реконструированных деревьев. 
7) Добавил два датасета из статей. 
8) Переделал вступительную страницу, что бы поля для ввода соответсвовали входным данным. 
9) Пофиксил багу в mgra tool, что бы она считала пустыми строками, строки где содержатся спецсимволы (\space, \t, \r). 
10) Пофиксил багу с большим количеством пустых реквестов. 
Вроде все из глобального. В этой папке надо разместить tex-овские файлы
   


 


